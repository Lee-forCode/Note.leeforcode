# Inode

>参考博客：http://www.ruanyifeng.com/blog/2011/12/inode.html
>
>​					https://www.jb51.net/LINUXjishu/542222.html
>
>⭐每个文件都必须有一个inode，索引节点个数有限，那么存储的文件数也有限！！
>
>可能有 硬盘空间为存满，但Inode使用完，从而导致无法在硬盘上创建新文件！！

## 一、inode是什么 – – 索引节点

>简单一句话总结：inode（区域）是存储文件元信息（或者说是文件基础信息）一块内存区域！
>
>我们称之为– – 索引节点



## 二、inode的内容

>Inode存储的是文件的元信息

- #### 文件元信息有哪些？（为什么没有文件名？）

  ```
  文件创建者的UID
  文件创建者的GID
  文件大小（字节数）
  文件的读、写、执行权限
  链接数:多少个文件指向这个Inode
  文件数据的Block位置
  文件三个时间戳：ctime、atime、mtime
  ```

- #### 查看某个文件inode内容：stat

  ```
  stat [filename]
  ```

  ![image-20211017102038984](H:\笔记\Note_Code\images\image-20211017102038984.png)

## 三、inode的大小

>硬盘格式化时，一般会分为两个区域：一个是数据存储区，一个是inode区
>
>- 正如其名，索引节点：inode是大小为128字节/256字节的存储区段。
>- 硬盘格式化后，一般每隔1KB/2KB设置一个Inode；细说就是，每隔2个扇区/4个扇区（一个扇区512字节）设置一个Inode

- #### 查看索引节点

  ```
  df -i
  ```

  ![image-20211017104446025](H:\笔记\Note_Code\images\image-20211017104446025.png)

## 四、inode号码

>每个Inode都有一个Inode号码，是操作系统用来识别各文件的依据，文件名只是便于记忆或者标识的记号而已，``操作系统本质不是通过文件名``，而是通过Inode号读取、操作文件的！！！！

- #### 用户打开文件的三个步骤：

  1. 系统 根据文件名 找到对应的Inode号码
  2. 再 通过Inode号码 读取文件元信息
  3. 最后根据元信息 知道问价存储在哪一 ’block‘，读出数据！

- #### 查看文件的Inode号码：`ls -i`

  ```
  ls -i
  ```

  

## 五、目录文件

>目录也是一种文件，存储的``inode表``,
>
>查看文件的详细信息，需要访问Inode节点

- #### 目录文件也有Inode

- #### 目录文件，是一系列目录项的列表（inode-table）– – 目录项：包括文件名和该文件名对应的Inode号码

  - `ls -i [dirname]`

- #### 目录的权限

  - 读/写权限：用户能够读取/写入目录项列表中的内容– – 文件名以及对应的Inode号码
  - 执行权限（X）：想要获取文件的详细内容，就要访问Inode节点，因为Inode节点中保存其他信息

## 六、硬链接和软链接

